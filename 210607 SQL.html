<html>
<header>
<title> SQL 문제를 풀어보세요 ✏</title>
<link href="https://fonts.googleapis.com/css?family=Nanum+Gothic&display=swap" rel="stylesheet">
<style>
body {font-family: 'Nanum Gothic', sans-serif;}
h1 {margin : 1rem;}
details {padding : 1rem; white-space: pre-wrap;}
.question {margin : 2rem; padding : 1rem; border: 1px solid gray;}
</style>
</header>

<body>

<h2>[SQL 문제를 풀어보세요 👀 - 손정현, 이진영, 이진의, 정주영B, 조태익]</h2>

<h3>  B조 인원들은 최종 프로젝트를 위해 아이디어 회의를 가졌다.  <br>
      회의 중 각자의 인적 사항, 취미, 아이디어를 일목 요연하게 정리하기로 하였다.
<br>  SQL 문장을 바탕으로 TABLE을 만들어보고 아래의 문제들을 구현해 보아라.</h3>
<div class='question' id='Q1'>

      <h4>1. PERSON_INFO / HOBBY / PROJECT 테이블을 생성하여라. <br><br>
             PERSON_INFO 테이블에는<br>
             NO, NAME, AGE, H_NAME, INTEREST, IDEA 여섯개의 컬럼을,<br>
             HOBBY 테이블에는 <br>
             H_NAME(취미 이름), H_CATA(활동성 여부(I / O) 둘 중 하나만) 두 개의 컬럼을,<br>
             PROJECT_IDEA 테이블에는<br>
            IDEA(아이디어), REQUIRMENT_LV(구현 난이도), ESSENTIAL_SKILLS(필요 기술), ESTIMATED_TIME(개발 시간) 세개의 컬럼 존재한다.
      </h4>
      	

      <details>
            <summary>모범 답안</summary>

            <summary> PERSON_INFO 테이블 </summary>
            <strong>DROP TABLE</strong> PERSON_INFO;
            <strong>CREATE TABLE</strong> PERSON_INFO( 
            NO <strong>NUMBER(3)</strong>,
            NAME <strong>VARCHAR2(20)</strong>,
            AGE <strong>NUMBER(3)</strong>,
            H_NAME <strong>VARCAHR2(20)</strong>,
            INTEREST <strong>VARCHAR2(20)</strong>,
            IDEA <strong>VARCHAR2(20)</strong>
            );

                  <strong>INSERT INTO </strong> PERSON_INFO <STRONG> VALUES </STRONG> <BR>
                        (1, '조태익', 29, 'COOK', 'BACK END', 'PLANT DIARY');<BR>
                  <strong>INSERT INTO </strong> PERSON_INFO <STRONG> VALUES </STRONG> <BR>
                        (2, '이진영', 23, 'EXERCISE', 'ANALYSING DATA', 'GPS_TO_DO');
                  <strong>INSERT INTO </strong> PERSON_INFO <STRONG> VALUES </STRONG> <BR>
                        (3, '정주영', 31, 'GAME', 'BACK END', 'SPORTS DATA');<BR>
                  <strong>INSERT INTO </strong> PERSON_INFO <STRONG> VALUES </STRONG> <BR>
                        (4, '이진의', 34, 'HIKING', 'ANALYSING DATA', SMOKING AREA NOTIFY');<BR>
                  <strong>INSERT INTO </strong> PERSON_INFO <STRONG> VALUES </STRONG> <BR>
                        (5, '손정현', 28, 'HIKING', 'ANALYSING DATA', 'ALLERGY SEARCH APP');<BR>


            <summary> HOBBY 테이블 </summary>
            <strong>DROP TABLE</strong> HOBBY;
            <strong>CREATE TABLE</strong> HOBBY( 
            H_NAME <strong>VARCHAR2(30)</strong>,
            H_CATE <strong>CHAR(2) CONSTRAINT</strong> CK_HOBBY 
                  <strong> CHECK </strong> (H_CATE <strong> IN </strong> ('I' ,'O'))
            );

                  <strong>INSERT INTO </strong> HOBBY <STRONG> VALUES </STRONG> <BR>
                        ('HIKING','O');<BR>	
                  <strong>INSERT INTO </strong> HOBBY <STRONG> VALUES </STRONG> <BR>
                        ('COOK','I');<BR> 
                  <strong>INSERT INTO </strong> HOBBY <STRONG> VALUES </STRONG> <BR>
                        ('EXERCISE','O');<BR> 
                  <strong>INSERT INTO </strong> HOBBY <STRONG> VALUES </STRONG> <BR>
                        ('GAME','I');<BR>
            
                 	                        
            <summary>PROJECT 테이블</summary>
            <strong>DROP TABLE</strong> PROJECT;
            <strong>CREATE TABLE</strong> PROJECT( 
            IDEA <strong>VARCHAR2(20)</strong>,
            REQUIRMENT_LV <strong>VARCHAR2(20)</strong>,
            ESSENTIAL_SKILLS <strong>VARCHAR2(20))</strong>,
            ESTIMATED_TIME <strong>NUMBER(3)</strong>,
            
            );


                  <strong>INSERT INTO </strong> PROJECT <STRONG> VALUES </STRONG> <BR>
                        ('SPORTS DATA', 'EASY', 'BIGDATA', 30);<BR>	
                  <strong>INSERT INTO </strong> PROJECT <STRONG> VALUES </STRONG> <BR>
                        ('VR GAME', 'HARD', 'VR', 140);<BR>	
                  <strong>INSERT INTO </strong> PROJECT <STRONG> VALUES </STRONG> <BR>
                        ('ALLERGY SEARCH APP', 'MID', 'BIGDATA', 30);<BR>	
                  <strong>INSERT INTO </strong> PROJECT <STRONG> VALUES </STRONG> <BR>
                        ('PLANT DIARY', 'EASY', 'TIME DATA', 40);<BR>	
                  <strong>INSERT INTO </strong> PROJECT <STRONG> VALUES </STRONG> <BR>
                        ('GPS_TO_DO', 'HARD', 'GPS', 150);<BR>	
                  <strong>INSERT INTO </strong> PROJECT <STRONG> VALUES </STRONG> <BR>
                        ('SMOKING AREA NOTIFY', 'HARD', 'GPS', 180);<BR>
                  
            
      </details>

</div>


<div class=question id=Q2>

      <h4>2. ALTER를 이용하여 각각의 TABLE에 적용하시오. <br>
            [PERSON_INFO]의 번호를 PK, 취미&프로젝트 아이디어를 FK로,<br>
            [PROJECT]의 아이디어를 PK로,<br>
            [HOBBY]의 취미 이름을 PK로 변환하시오.<br>

      </h4>
      
      <details>
            <summary>모범답안</summary>

            <summary>PERSON_INFO 테이블</summary> <br>
            <strong> ALTER TABLE</strong> PERSON_INFO;
            <strong> ADD CONSTRAINT</strong> PK_PERSON_INFO_NO
            <strong> PRIMARY KEY</strong>(NO);
         
            <strong> ALTER TABLE </strong> PERSON_INFO;
            <strong> ADD CONSTRAINT </strong> FK_PERSON_INFO_HOBBY
            <strong> FOREIGN KEY </strong>(H_NAME)
            <STRONG> REFERENCES </STRONG> HOBBY(H_NAME);
            
            
            <strong> ALTER TABLE </strong> PERSON_INFO;
            <strong> ADD CONSTRAINT </strong> FK_PEROSN_INFO_IDEA
            <strong> FOREIGN KEY </strong> (IDEA)
            <STRONG> REFERENCES </STRONG>  PROJECT(IDEA);<br>

            <summary>PROJECT 테이블</summary> <br>
            <strong> ALTER TABLE </strong> PROJECT;
            <strong> ADD CONSTRAINT </strong> PK_PROJECT_IDEA
            <strong> PRIMARY KEY </strong>(IDEA);

            <summary>HOBBY 테이블</summary> <br>
            <strong> ALTER TABLE </strong> HOBBY
            <strong> ADD CONSTRAINT </strong> PK_HOBBY_H_NAME
            <strong> PRIMARY KEY </strong>(H_NAME);
         
</details>
</div>

<div class='question' id='Q3'>

      <h4>3. JOIN 개념을 이용하여 선택받지 못한 아이디어를 추출하라.

      </h4>
      
      <details>
            <summary>모범 답안</summary>
            <strong>SELECT</strong> PROJECT.IDEA 
            <strong>FROM</strong> PROJECT
            <strong>LEFT JOIN</strong> PERSON_INFO 
            <strong>ON</strong> PROJECT.IDEA <strong> = </strong> PERSON_INFO.IDEA 
            <strong>WHERE</strong> 
                  PERSON_INFO.IDEA <STRONG>IS NULL;</STRONG>;

           
      </details>

</div>

<div class=question id=Q4>
      <h4>4. 프로시저 개념을 이용하여 [PROJECT] 테이블에 새로운 아이디어를 추가하라.

      </h4>
      	

      <details>
           <summary>모범 답안</summary>
            <strong>CREATE OR REPLACE</strong> PROCEDURE ADD_IDEA(
            N_IDEA PROJECT.IDEA<STRONG>%TYPE</STRONG>,
            N_REQ PROJECT.REQUIRMENT_LV<STRONG>%TYPE</STRONG>,
            N_ESS PROJECT.ESSENTIAL_SKILLS<STRONG>%TYPE</STRONG>,
            N_EST PROJECT.ESTIMATED_TIME<STRONG>%TYPE</STRONG>,
           
            <strong>IS</strong> <BR>
            <strong>BEGIN</strong> <BR>
                         <strong>INSERT INTO</strong> PROJECT
                         <strong>VALUES</strong> (N_IDEA, N_REQ , N_ESS , N_EST );
            <strong>END;</strong> <BR>/ <BR>
            <strong>EXEC</strong> ADD_IDEA('POSITION MONITOR', 'HARD', 'VISUAL DATA' ,100 );     
      </details> 

</div>

<div class='question' id='Q5'>

      <h4>5. PLS FUNCTION 기능을 이용하여 프로젝트 테이블의 아이디어를 암호화한다.
      </h4> 
      
      <details>
            <summary>모범 답안</summary>
            <strong>select</strong> last_name, first_name, salary 
            <strong>from</strong> employees
            <strong>where</strong> trunc(months_between(sysdate, hire_date) / 12, 0) >= 20;

           
      </details>

</div>

</body>
</html>
